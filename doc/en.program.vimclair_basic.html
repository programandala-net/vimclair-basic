<!doctype html>
<html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8" >

<title>Vimclair BASIC - programandala.net</title>
<meta name="description" content="A Sinclair BASIC preprocessor written in Vim." >
<meta name="author" lang="es" content="Marcos Cruz (programandala.net)" >
<meta name="designer" lang="es" content="Marcos Cruz (programandala.net)" >
<meta name="web_author" lang="es" content="Marcos Cruz (programandala.net)" >
<meta name="generator" content="Fendo (Forth Engine for Net DOcuments) A-05-20150130" >
<meta name="keywords" content=" programming, computers, computing" >
<meta name="dc.title" content="Vimclair BASIC" >
<meta name="dc.language" content="en" >
<meta name="dc.description" content="A Sinclair BASIC preprocessor written in Vim." >
<meta name="dc.creator" content="Marcos Cruz (programandala.net)" >
<meta name="dc.publisher" content="Marcos Cruz (programandala.net)" >
<meta name="dc.dateSubmitted" content="2015-02-01" >
<meta name="dc.modified" content="2015-02-04" >
<meta name="dcterms.title" content="Vimclair BASIC" >
<meta name="dcterms.language" content="en" >
<meta name="dcterms.abstract" content="A Sinclair BASIC preprocessor written in Vim." >
<meta name="dcterms.creator" content="Marcos Cruz (programandala.net)" >
<meta name="dcterms.publisher" content="Marcos Cruz (programandala.net)" >
<meta name="dcterms.issued" content="2015-02-01" >
<meta name="dcterms.modified" content="2015-02-04" >
<link rel="author" type="text/plain" href="humans.txt" >
<link rel="alternate" type="application/atom+xml" href="en.atom.xml" >
<link rel="stylesheet" type="text/css" href="designs/f04/style.css" title="F04" media="all" >
<link rel="shortcut icon" type="image/png" href="files/logo/programandala.net_logo_32x32.png" sizes="32x32" >
<link rel="shortcut icon" type="image/x-icon" href="favicon.ico" sizes="32x32" >
<link type="text/html" title="wt" rel="next" href="en.program.wt.html">
<link type="text/html" title="tw" rel="prev" href="en.program.tw.html">
<link type="text/html" title="Vimclair BASIC: Un preprocesador de Sinclair BASIC escrito en Vim" rel="alternate" hreflang="es" href="es.programa.vimclair_basic.html">
<link type="text/html" title="Vimclair BASIC: Antaŭprocezilo por Sinclair BASIC verkita en Vim" rel="alternate" hreflang="eo" href="eo.programo.vimclair_basic.html">
</head>
<body class="light">
<div id="wrap">

<header>
<div id="headertop"> <div id="headerlogo">
<a href="en.html"><img src="files/logo/programandala.net_logo_64x64.png"></a>
</div>
<div id="headercontent"> <span id="title"> <span id="sitename">

<nav href="en.html"><a>programandala.net</a>
</nav></span>
</span>
<nav>
<ul class="languagemenu">
<li><a title="Un preprocesador de Sinclair BASIC escrito en Vim" hreflang="es" href="es.programa.vimclair_basic.html">Versión en español</a>
</li>
<li><a title="Antaŭprocezilo por Sinclair BASIC verkita en Vim" hreflang="eo" href="eo.programo.vimclair_basic.html">Esperanto-versio</a>
</li>
<li><strong class="currentLanguage">English</strong>
</li>
</ul>
</nav> <span id="search"><form method="get" id="duckduckgosearch" action="http://duckduckgo.com/html/"> <input type="hidden" name="sites" value="programandala.net"/> <input type="hidden" name="kp" value="1"/> <input type="hidden" name="ka" value="h"/> <input type="hidden" name="k7" value="#fafafa"/> <input type="hidden" name="kj" value="#3f3f3f"/> <input type="hidden" name="ky" value="#fafafa"/> <input type="hidden" name="kx" value="b"/> <input type="hidden" name="kt" value="Helvetica"/> <input type="text" value="site:programandala.net language:en " name="q" maxlength="255" /><input type="submit" value="Search with DuckDuckGo"/> </form></span>
</div>
</div> <div id="headerbottom">
<hr>

<nav>
<ul class="sections">
<li class="currentsection"><a title="List of programs published so far in the English section." href="en.program.html">Programs</a></li>
<li><a title="Computers section." href="en.computer.html">Computers</a></li>
<li><a title="Texts section of programandala.net." href="en.text.html">Texts</a></li>
<li><a title="Curious pictures made by me, with text description, related to programandala.net&#39;s issues." href="en.picture.html">Pictures</a></li>
<li><a title="How to contact the author." href="en.contact.html">Contact</a></li>
<li><a title="About programandala.net." href="en.about.html">About</a></li>
</ul>
<ul class="externalsections">
<li><a title="Account of programandala.net in Twitter" href="http://twitter.com/programandala" class="twittericon external">Twitter</a></li>
<li><a title="Account of programandala.net in GitHub" href="http://github.com/programandala-net" class="githubicon external">GitHub</a></li>
<li><a title="Atom file for syndication to programandala.net updates." href="en.atom.xml" class="feedicon ">New</a></li>
</ul>
<ul class="hierarchy">
<li><a title="Text windows for X11&#45;Basic console programs." href="en.program.tw.html"><span class='br'>Previous:</span> tw</a></li>
<li><a title="List of programs published so far in the English section." href="en.program.html"><span class='br'>Up:</span> Programs</a></li>
<li><a title="Text wrapping module for X11&#45;Basic and MBim." href="en.program.wt.html"><span class='br'>Next:</span> wt</a></li>
</ul>
</nav>
</div>
</header> <div id="content">

<hr>

<h1>Vimclair <abbr title="Beginner&#39;s All-Purpose Symbolic Instruction Code" lang="en">BASIC</abbr></h1>

<div class="toprightadsense">
<script language="php">@include('inc/adsense.top_right.php');
</script>
</div>
<div id="descriptionBox">
<h2 class="hide">Description of the page content</h2>

<p>A Sinclair <abbr title="Beginner&#39;s All-Purpose Symbolic Instruction Code" lang="en">BASIC</abbr> preprocessor written in Vim.
</p>
<div><span class="tagListLabel">Tags:</span>
<div class="tagList">
<ul>
<li><a title="Pages tagged with “BASIC ”." href="en.tag.basic.html"><abbr title="Beginner&#39;s All-Purpose Symbolic Instruction Code" lang="en">BASIC</abbr></a></li>
<li><a title="Pages tagged with “Vimclair BASIC ”." href="en.tag.vimclair_basic.html"><span lang="en">Vimclair</span> <abbr title="Beginner&#39;s All-Purpose Symbolic Instruction Code" lang="en">BASIC</abbr></a></li>
<li class="last"><a title="Pages tagged with “ZX Spectrum”." href="en.tag.zx_spectrum.html"><span lang="en">ZX Spectrum</span></a></li>
</ul>
</div>
</div>
</div>


<h2>Brief description</h2>


<p>Vimclair <abbr title="Beginner&#39;s All-Purpose Symbolic Instruction Code" lang="en">BASIC</abbr> is two things:
</p>

<ol>
<li>An improved version of <a title="Pages tagged with “Sinclair BASIC ”." href="en.tag.sinclair_basic.html">Sinclair <abbr title="Beginner&#39;s All-Purpose Symbolic Instruction Code" lang="en">BASIC</abbr></a>.</li>
<li>A program that converts a Vimclair <abbr title="Beginner&#39;s All-Purpose Symbolic Instruction Code" lang="en">BASIC</abbr> source file to a TAP file with its Sinclair <abbr title="Beginner&#39;s All-Purpose Symbolic Instruction Code" lang="en">BASIC</abbr> equivalent.</li>
</ol>

<p>Actually, Vimclair <abbr title="Beginner&#39;s All-Purpose Symbolic Instruction Code" lang="en">BASIC</abbr> is <em>just</em> a Sinclair <abbr title="Beginner&#39;s All-Purpose Symbolic Instruction Code" lang="en">BASIC</abbr> preprocessor — but it looks, feels and works like a different, say modern, language, to some extent.
</p>

<h2>Motivation and goal</h2>


<p>In summer 2014 I had the idea to start a new project in Sinclair <abbr title="Beginner&#39;s All-Purpose Symbolic Instruction Code" lang="en">BASIC</abbr> for the <a title="Pages tagged with “ZX Spectrum +3e”." href="en.tag.zx_spectrum_+3e.html">ZX Spectrum +3e</a>, but I missed two things:
</p>

<ol>
<li>The improvements of SAM Coupé's <a title="Pages tagged with “MasterBASIC ”." href="en.tag.masterbasic.html">Master<abbr title="Beginner&#39;s All-Purpose Symbolic Instruction Code" lang="en">BASIC</abbr></a> (a descendant of ZX Spectrum's <a title="Pages tagged with “Beta BASIC ”." href="en.tag.beta_basic.html">Beta <abbr title="Beginner&#39;s All-Purpose Symbolic Instruction Code" lang="en">BASIC</abbr></a>): control structures, procs, labels, long variable names…</li>
<li>The <abbr title="Vi IMproved" lang="en">Vim</abbr> editor. <abbr title="Vi IMproved" lang="en">Vim</abbr> has been my main work tool for many years. I can not imagine writing code, in any language, without the endless power of Vim.</li>
</ol>

<p>I investigated and tried all the available tools that convert Sinclair <abbr title="Beginner&#39;s All-Purpose Symbolic Instruction Code" lang="en">BASIC</abbr> from plain text files to actual emulator files, but no-one was exactly what I needed, so finally I decided to write my own tool, based on previous related works of mine (<a title="Utilería para escribir programas para ZX Spectrum en BBim (formato mejorado de Beta BASIC) con el editor Vim." hreflang="es" href="es.programa.bbim.html"><abbr title="Beta BASIC improved" lang="en">BBim</abbr></a>, <a title="Cross-development toolkit for MasterBASIC and SimCoupe." href="en.program.mbim.html"><abbr title="MasterBASIC improved" lang="en">MBim</abbr></a> and <a title="Utilidad para escribir programas para QL en SBim (formato mejorado de S*BASIC) con el editor Vim." hreflang="es" href="es.programa.sbim.html"><abbr title="S*BASIC improved" lang="en">SBim</abbr></a>).
</p>

<p>I'm been writting <a title="[Proyecto:] Juego de aventuras de texto con gráficos, escrito en Vimclair BASIC para ZX Spectrum +3e." hreflang="es" href="es.programa.ce4.vimclair_basic.html">my project in Vimclair <abbr title="Beginner&#39;s All-Purpose Symbolic Instruction Code" lang="en">BASIC</abbr> for the ZX Spectrum +3e</a> along with Vimclair <abbr title="Beginner&#39;s All-Purpose Symbolic Instruction Code" lang="en">BASIC</abbr> itself, so the language and its converter have been well tested during the development, still in progress.
</p>

<p>Vimclair <abbr title="Beginner&#39;s All-Purpose Symbolic Instruction Code" lang="en">BASIC</abbr> is not fully finished yet. There are some pending fixes and new features. But it works fine enough to be used for real projects.
</p>

<p>Vimclair <abbr title="Beginner&#39;s All-Purpose Symbolic Instruction Code" lang="en">BASIC</abbr> makes the development of <abbr title="Beginner&#39;s All-Purpose Symbolic Instruction Code" lang="en">BASIC</abbr> programs for ZX Spectrum much more productive and fun for me. I hope others will find it useful too.
</p>

<h2>Features</h2>


<ul>
<li>C-style block and line comments.</li>
<li>Bash-style line comments.</li>
<li>Labels instead of line numbers.</li>
<li>`#vim` directive to execute any <abbr title="Vi IMproved" lang="en">Vim</abbr> command in the source.</li>
<li>Long variable names for strings, arrays and `FOR` loops (using the `#vim` directive).</li>
<li>Control structures (can be nested):</li>
<li>DO... LOOP</li>
<li>DO... LOOP UNTIL</li>
<li>DO... LOOP WHILE</li>
<li>DO UNTIL... LOOP</li>
<li>DO UNTIL... LOOP UNTIL</li>
<li>DO UNTIL... LOOP WHILE</li>
<li>DO WHILE... LOOP</li>
<li>DO WHILE... LOOP UNTIL</li>
<li>DO WHILE... LOOP WHILE</li>
<li>EXIT DO</li>
<li>EXIT FOR</li>
<li>IF... THEN... ENDIF</li>
<li>IF... THEN... ELSE... ENDIF</li>
<li>IF... THEN... ELSE IF... ELSE... ENDIF (with any number of ELSE IF)</li>
<li>Procedures (without parameters):</li>
<li>DEF PROC, END PROC, EXIT PROC, CALL. (Procedures with parameters can be simulated ad hoc with the #vim directive.)</li>
<li>The CALL command can be changed with '#procedureCall', e.g.: #procedureCall proc Or even make it empty: #procedureCall</li>
</ul>


.

<h2>Files</h2>


<p>The Vimclair <abbr title="Beginner&#39;s All-Purpose Symbolic Instruction Code" lang="en">BASIC</abbr> archive contains the following files:
</p>

<ul>
<li><code>README.md</code>: First info about Vimclair BASIC.</li>
<li><code>LICENSE.txt</code>: A copy of the <abbr title="GNU&#39;s Not Unix" lang="en">GNU</abbr> General Public License.</li>
<li><code>vbas2tap.sh</code>: Command line wrapper for the Vimclair <abbr title="Beginner&#39;s All-Purpose Symbolic Instruction Code" lang="en">BASIC</abbr> to TAP converter.</li>
</ul>

<p>The <code>vim/</code> directory contains <abbr title="Vi IMproved" lang="en">Vim</abbr> specific files:
</p>

<ul>
<li><code>vim/plugins/vbas2tap.vim</code>: Vimclair <abbr title="Beginner&#39;s All-Purpose Symbolic Instruction Code" lang="en">BASIC</abbr> to TAP converter.</li>
<li><code>vim/ftdetect/vimclairbasic.vim</code>: filetype detect (how <abbr title="Vi IMproved" lang="en">Vim</abbr> knows, by the filename extension, that you are opening a Vimclair <abbr title="Beginner&#39;s All-Purpose Symbolic Instruction Code" lang="en">BASIC</abbr> source file).</li>
<li><code>vim/ftplugin/vimclairbasic.vim</code>: filetype plugin (configuration and editing preferences for Vimclair <abbr title="Beginner&#39;s All-Purpose Symbolic Instruction Code" lang="en">BASIC</abbr> source files).</li>
<li><code>vim/syntax/vimclairbasic.vim</code>: syntax highlighting file.</li>
</ul>

<p>The <code>programandala.net/</code> directory contains a copy of this webpage, just in case you are offline.
</p>

<h2>Requirements</h2>


<p>In order to create the final TAP file, the Vimclair <abbr title="Beginner&#39;s All-Purpose Symbolic Instruction Code" lang="en">BASIC</abbr> to TAP converter needs BAS2TAP (by Martijn van der Heide of ThunderWare Research Center) to be installed in your system. Vimclair <abbr title="Beginner&#39;s All-Purpose Symbolic Instruction Code" lang="en">BASIC</abbr> has been tested with BAS2TAP v2.4 (release 2005-07-24), the latest version at the time of writing.
</p>

<p>You can always freely obtain the latest version of BAS2TAP from the utilities section of <a title="Almost everything about the ZX Spectrum" href="http://worldofspectrum.org" class="external">World of Spectrum</a> or the <a href="ftp://ftp.worldofspectrum.org/pub/sinclair/tools/pc" class="external">World of Spectrum <abbr title="File Transfer Protocol" lang="en">FTP</abbr></a>.
</p>

<p>This is how I compiled and installed BAS2TAP on Debian:
</p>

<pre><code>gcc -Wall -O2 bas2tap.c -o bas2tap -lm
strip bas2tap
sudo mv bas2tap /usr/local/bin/
</code>
</pre>

<h2>Installation</h2>


<p>Extract the contents of the tar file:
</p>

<pre><code>tar xvz vimclair_basic.tar.gz
</code>
</pre>

<p>Enter the new directory:
</p>

<pre><code>cd vimclair_basic
</code>
</pre>

<p>Copy the content of the <code>vim/</code> directory into your <code>~/.vim/</code> directory:
</p>

<pre><code>cp -r vim/* ~/.vim
</code>
</pre>

<p>Create a link to <code>vbas2tap.sh</code>, with your command name of choice (e.g. <code>vbas2tap</code>), into a directory in your path (usually <code>~/bin/</code> or <code>/usr/local/bin/</code>):
</p>

<pre><code>ln -s vbas2tap.sh ~/bin/vbas2tap
</code>
</pre>
If you prefer the system-wide <code>/usr/local/bin/</code> directory:

<pre><code>sudo ln -s vbas2tap.sh /usr/local/bin/vbas2tap
</code>
</pre>

<p>In the examples above, symbolic links are used. You can create hard links instead, copy or even move the file.
</p>

<h2>Usage</h2>


<p>Vimclair <abbr title="Beginner&#39;s All-Purpose Symbolic Instruction Code" lang="en">BASIC</abbr> source files use the VBAS filename extension by default, but you can change it in <code>~/.vim/ftdetect/vimclairbasic.vim</code>.
</p>

<p>Whenever you open a Vimclair <abbr title="Beginner&#39;s All-Purpose Symbolic Instruction Code" lang="en">BASIC</abbr> program with Vim, the proper syntax highlighting will be selected, and the normal-mode key map '.tap' (defined in <code>vim/ftplugin/vimclairbasic.vim</code>) will convert your source to a TAP file.
</p>

<p>You can use also the command line converter from your <abbr title="Operating System" lang="en">OS</abbr> shell:
</p>

<pre><code>vbas2tap program.vbas
</code>
</pre>


<h2>Related pages</h2>

<div class="relatedheadingadsense">
<script language="php">@include('inc/adsense.related.php');
</script>
</div>
<dl href="en.program.mbim" class="relatedPages">
<dt><a title="Cross-development toolkit for MasterBASIC and SimCoupe." href="en.program.mbim.html"><abbr title="MasterBASIC improved" lang="en">MBim</abbr></a></dt>
<dd>Cross-development toolkit for Master<abbr title="Beginner&#39;s All-Purpose Symbolic Instruction Code" lang="en">BASIC</abbr> and SimCoupe.</dd>
<dt hreflang="es" href="es.programa.sbim"><a title="Utilidad para escribir programas para QL en SBim (formato mejorado de S*BASIC) con el editor Vim." hreflang="es" href="es.programa.sbim.html"><abbr title="S*BASIC improved" lang="en">SBim</abbr></a></dt>
<dd>Utilidad para escribir programas para QL en <abbr title="S*BASIC improved" lang="en">SBim</abbr> (formato mejorado de <abbr title="SuperBASIC and/or SBASIC" lang="en">S*BASIC</abbr>) con el editor <abbr title="Vi IMproved" lang="en">Vim</abbr>.</dd>
<dt href="es.programa.ce4.vimclair_basic"><a title="[Proyecto:] Juego de aventuras de texto con gráficos, escrito en Vimclair BASIC para ZX Spectrum +3e." hreflang="es" href="es.programa.ce4.vimclair_basic.html">CE4 [para ZX Spectrum +3e]</a></dt>
<dd>[Proyecto:] Juego de aventuras de texto con gráficos, escrito en Vimclair <abbr title="Beginner&#39;s All-Purpose Symbolic Instruction Code" lang="en">BASIC</abbr> para ZX Spectrum +3e.</dd>
</dl>
</div>
<footer>

<nav>
<hr>

<ul class="hierarchy">
<li><a title="Text windows for X11&#45;Basic console programs." href="en.program.tw.html"><span class='br'>Previous:</span> tw</a></li>
<li><a title="List of programs published so far in the English section." href="en.program.html"><span class='br'>Up:</span> Programs</a></li>
<li><a title="Text wrapping module for X11&#45;Basic and MBim." href="en.program.wt.html"><span class='br'>Next:</span> wt</a></li>
</ul>
</nav>
<hr>
<p>&copy; 1983-2016 &#32; <a title="How to contact the author." href="en.contact.html">Marcos Cruz</a><br>
URL: http://programandala.net/en.program.vimclair_basic.html<br>
Document created on 2015-02-01; last modified on 2015-02-04.<br>
Powered by  <a title="[Project:] Website engine written in Forth." href="en.program.fendo.html"><span lang="eo">Fendo</span></a>.
</p>
</footer>
</div>
</body>
</html>